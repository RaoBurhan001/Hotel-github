(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),s=a.n(c),r=a(9),o=a.n(r),l=(a(111),a(112),a(36)),i=a(12),u=a(47),j=(a(113),a(34)),b=a(30),d=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return Object(j.a)({},e)})).auth,a=Object(i.g)();return Object(n.jsxs)("div",{className:"nav bg-light d-flex justify-content-between",children:[Object(n.jsx)(l.b,{className:"nav-link",to:"/",children:"Home"}),null!==t&&Object(n.jsx)(l.b,{className:"nav-link",to:"/dashboard",children:"Dashboard"}),null!==t&&Object(n.jsx)("a",{className:"nav-link pointer",onClick:function(){e({type:"LOGOUT",payload:null}),window.localStorage.removeItem("auth"),a.push("/login")},children:"Logout"}),null===t&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l.b,{className:"nav-link",to:"/login",children:"Login"}),Object(n.jsx)(l.b,{className:"nav-link",to:"/register",children:"Register"})]})]})},m=function(e){var t=Object.assign({},e),a=Object(b.c)((function(e){return Object(j.a)({},e)})).auth;return a&&a.token?Object(n.jsx)(i.b,Object(j.a)({},t)):Object(n.jsx)(i.a,{to:"/login"})},O=a(32),p=a(87),h=a.n(p),x=function(e){Object(i.g)();var t=Object(c.useState)(""),a=Object(O.a)(t,2),s=a[0],r=a[1],o=Object(c.useState)(""),l=Object(O.a)(o,2),u=l[0],j=l[1],b=Object(c.useState)(""),d=Object(O.a)(b,2),m=d[0],p=d[1],x=function(e){console.log(e),r(e.profileObj.name),j(e.profileObj.email),p(e.profileObj.imageUrl)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(h.a,{clientId:"317870189847-v7fdmpqkihi81tqr1kfr8mrln85jb4pf.apps.googleusercontent.com",buttonText:"Login",onSuccess:x,onFailure:x,cookiePolicy:"single_host_origin"}),Object(n.jsxs)("h2",{children:["Welcome : ",s]}),Object(n.jsxs)("h3",{children:[" ",u]}),Object(n.jsx)("img",{src:m,alt:"google"})]})},f=function(e){return Object(n.jsx)("div",{className:"text-center"})},g=a(31),v=a.n(g),N=a(45),w=a(69),S=a.n(w),y=function(){var e=Object(N.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("".concat("https://googlesignuplogin.herokuapp.com/api","/register"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(N.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("".concat("https://googlesignuplogin.herokuapp.com/api","/login"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var k=function(e){var t=e.handleSubmit,a=e.email,c=e.setEmail,s=e.password,r=e.setPassword;return Object(n.jsxs)("form",{onSubmit:t,className:"mt-3",children:[Object(n.jsxs)("div",{className:"form-group mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Email address"}),Object(n.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Password"}),Object(n.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:s,onChange:function(e){return r(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Login with Google"}),Object(n.jsx)(x,{})]}),Object(n.jsx)("button",{disabled:!a||!s,className:"btn btn-primary",children:"Submit"})]})},I=function(e){var t=e.history,a=Object(c.useState)(""),s=Object(O.a)(a,2),r=s[0],o=s[1],l=Object(c.useState)(""),i=Object(O.a)(l,2),j=i[0],d=i[1],m=Object(b.b)(),p=function(){var e=Object(N.a)(v.a.mark((function e(a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log("SEND LOGIN DATA",{email:r,password:j}),e.prev=2,e.next=5,E({email:r,password:j});case 5:(n=e.sent).data&&(console.log("SAVE USER RES IN REDUX AND LOCAL STORAGE THEN REDIRECT ===> "),window.localStorage.setItem("auth",JSON.stringify(n.data)),m({type:"LOGGED_IN_USER",payload:n.data}),t.push("/dashboard")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),400===e.t0.response.status&&u.b.error(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"container-fluid bg-secondary p-5 text-center",children:Object(n.jsx)("h1",{children:"Login"})}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(n.jsx)(k,{handleSubmit:p,email:r,setEmail:o,password:j,setPassword:d})})})})]})},L=function(e){var t=e.handleSubmit,a=e.name,c=e.setName,s=e.email,r=e.setEmail,o=e.password,l=e.setPassword;return Object(n.jsxs)("form",{onSubmit:t,className:"mt-3",children:[Object(n.jsxs)("div",{className:"form-group mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Your name"}),Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter name",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Email address"}),Object(n.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",value:s,onChange:function(e){return r(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Password"}),Object(n.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(n.jsx)("button",{disabled:!a||!s||!o,className:"btn btn-primary",children:"Submit"})]})},R=function(e){var t=e.history,a=Object(c.useState)(""),s=Object(O.a)(a,2),r=s[0],o=s[1],l=Object(c.useState)(""),i=Object(O.a)(l,2),j=i[0],b=i[1],d=Object(c.useState)(""),m=Object(O.a)(d,2),p=m[0],h=m[1],x=function(){var e=Object(N.a)(v.a.mark((function e(a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,y({name:r,email:j,password:p});case 4:n=e.sent,console.log("REGISTER USER ",n),u.b.success("Register success. Please login."),t.push("/login"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),400===e.t0.response.status&&u.b.error(e.t0.response.data);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"container-fluid bg-secondary p-5 text-center",children:Object(n.jsx)("h1",{children:"Register"})}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(n.jsx)(L,{handleSubmit:x,name:r,setName:o,email:j,setEmail:b,password:p,setPassword:h})})})})]})},D=a(163),C=a(165),T=D.a.Meta,G=function(){var e=Object(b.c)((function(e){return Object(j.a)({},e)})).auth.user;return Object(n.jsx)("div",{className:"d-flex justify-content-around",children:Object(n.jsx)(D.a,{children:Object(n.jsx)(T,{avatar:Object(n.jsx)(C.a,{children:e.name[0]}),title:"Welcome ".concat(e.name)})})})},P=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container-fluid bg-secondary p-5",children:Object(n.jsx)(G,{})})})};var F,_=function(){return Object(n.jsxs)(l.a,{children:[Object(n.jsx)(d,{}),Object(n.jsx)(u.a,{position:"top-center"}),Object(n.jsxs)(i.d,{children:[Object(n.jsx)(i.b,{exact:!0,path:"/",component:f}),Object(n.jsx)(i.b,{exact:!0,path:"/login",component:I}),Object(n.jsx)(i.b,{exact:!0,path:"/register",component:R}),Object(n.jsx)(m,{exact:!0,path:"/dashboard",component:P})]})]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,166)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},U=a(44),J=a(103);F=window.localStorage.getItem("auth")?JSON.parse(window.localStorage.getItem("auth")):null;var W={socialId:""},q=Object(U.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN_USER":return Object(j.a)(Object(j.a)({},e),t.payload);case"LOGOUT":return t.payload;default:return e}},social:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOCIAL_ID":return console.log("reducer...",t.payload),Object.assign({},e,{socialId:t.payload});case"GET_SOCIAL_ID":return e.socialId;default:return e}}}),B=Object(U.createStore)(q,Object(J.composeWithDevTools)());o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(b.a,{store:B,children:Object(n.jsx)(_,{})})}),document.getElementById("root")),A()}},[[157,1,2]]]);
//# sourceMappingURL=main.480ec120.chunk.js.map